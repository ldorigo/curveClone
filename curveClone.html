<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Gamedev Canvas Workshop</title>
    <style>
    	* { padding: 0; margin: 0; }
    	canvas { background: #eee; display: block; margin: 0 auto; }
    </style>
</head>
<body>

<canvas id="myCanvas" width="480" height="320"></canvas>

<script>
var canvas= document.getElementById("myCanvas");
var ctx= canvas.getContext("2d");



// position ball

var ballX = Math.floor(Math.random()*canvas.width);
var ballY = Math.floor(Math.random()*canvas.height);
var ballRadius = 5;

var dx = 1;
var dy = 1;
// Keys

var rightPressed = false;
var leftPressed = false;

function drawBall(){

	ctx.beginPath();
	ctx.arc(ballX,ballY,ballRadius,0,Math.PI*2,true);
	ctx.fillStyle='blue';
	ctx.fill();
	ctx.closePath(); }

function moveBall(){
	if(rightPressed == false && leftPressed == false){

	}
	else if(leftPressed){
		ballX+=1;

	}
	ballX += dx;
	ballY += dy;

}



function draw() {

	drawBall();
	moveBall();
	ballX+=dx;
	ballY+=dy;
	requestAnimationFrame(draw);
}


document.addEventListener("keydown",keyDownHandler, false);
document.addEventListener("keyup",keyUpHandler, false);

function keyDownHandler(e){
	if(e.keyCode ==39){
		rightPressed=true;
	}
	else if(e.keyCode == 37){
		leftPressed=true;
	}}
function keyUpHandler(e){
	if(e.keyCode ==39){
		rightPressed=false;
	}
	else if(e.keyCode == 37){
		leftPressed=false;
	}}

draw();


</script>

</body>
</html>